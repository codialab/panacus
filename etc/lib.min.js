const PCOLORS=["#f77189","#bb9832","#50b131","#36ada4","#3ba3ec","#e866f4"];class Bar{constructor(t,e,o,n,c,a,l){this.id=t;this.name=e;this.x_label=o;this.y_label=n;this.labels=c;this.values=a;this.log_toggle=l}}class MultiBar{constructor(t,e,o,n,c,a,l){this.id=t;this.names=e;this.x_label=o;this.y_label=n;this.labels=c;this.values=a;this.log_toggle=l}}class Group{constructor(t,e,o,n){this.count=t;this.index=e;this.length=o;this.is_hist=n}}class Growth{constructor(t,e,o,n,c){this.count=t;this.index=e;this.growths={};var a=[];for(let e=0;e<o.length;e++){let t=[o[e],n[e]];a[e]=[n[e],o[e]];this.growths[t]=c[e]}a.sort();this.coverage_t=a.map(([t,e])=>e);this.quorum_t=a.map(([t,e])=>t)}getThresholds(){let e=[];for(let t=0;t<this.coverage_t.length;t++){e[t]=[this.coverage_t[t],this.quorum_t[t]]}return e}getGrowthFor(t,e){return this.growths[[t,e]]}}function buildPlotDownload(e,o,n){console.log("btn-download-plot-"+o.constructor.name.toLowerCase()+"-"+o.count);document.getElementById("btn-download-plot-"+o.constructor.name.toLowerCase()+"-"+o.count).onclick=function(){var t=document.createElement("a");t.href=e.toBase64Image();t.download=n+"_"+o.constructor.name.toLowerCase()+"_"+o.count+".png";t.click()}}function buildHistTableDownload(t,c,a){document.getElementById("btn-download-table-hist-"+c.count).onclick=function(){var t="panacus\thist\ncount\t"+c.count+"\n\t\n\t\n";for(var e=0;e<c.index.length;e++){t+=c.index[e]+"\t"+c.coverage[e]+"\n"}let o=new Blob([t],{type:"text/plain"});var n=document.createElement("a");n.href=URL.createObjectURL(o);n.download=a+"_hist_"+c.count+".tsv";n.click()}}function buildGrowthTableDownload(t,s,i){document.getElementById("btn-download-table-growth-"+s.count).onclick=function(){var t="";var e=s.getThresholds();var o="panacus\tgrowth";if(typeof s.index[0]==="string"||s.index[0]instanceof String){o="panacus\tordered-growth"}var n="\ncount\t"+s.count;cs="\ncoverage\t"+e[0][0];qs="\nquorum\t"+e[0][1];zero="\n0\tNaN";for(var c=1;c<e.length;c++){o+="\tgrowth";n+="\t"+s.count;cs+="\t"+e[c][0];qs+="\t"+e[c][1];zero+="\tNaN"}t+=o+n+cs+qs+zero+"\n";for(var c=0;c<s.index.length;c++){t+=s.index[c];for(var a=0;a<e.length;a++){t+="\t"+s.getGrowthFor(e[a][0],e[a][1])[c]}t+="\n"}let l=new Blob([t],{type:"text/plain"});var r=document.createElement("a");r.href=URL.createObjectURL(l);r.download=i+"_growth_"+s.count+".tsv";if(typeof s.index[0]==="string"||s.index[0]instanceof String){r.download=i+"_orderedgrowth_"+s.count+".tsv"}r.click()}}function buildInfoTableDownload(o,t,n){document.getElementById("btn-download-table-info-"+t).onclick=function(){let t=new Blob([o],{type:"text/plain"});var e=document.createElement("a");e.href=URL.createObjectURL(t);e.download=n+"_info.tsv";e.click()}}function buildLogToggle(e,t){document.getElementById("btn-logscale-plot-"+t).addEventListener("change",function(t){if(t.currentTarget.checked){e.options.scales.y.type="logarithmic"}else{e.options.scales.y.type="linear"}e.update()})}