(()=>{"use strict";const t=Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]'));t.forEach(t=>{new bootstrap.Tooltip(t)})})();const plots=hists.concat(growths);const pluginCanvasBackgroundColor={id:"customCanvasBackgroundColor",beforeDraw:(t,o,a)=>{const{ctx:e,chartArea:{top:r,bottom:l,left:n,right:i,width:s,height:d},scales:{x:g,y:u}}=t;e.save();e.globalCompositeOperation="destination-over";e.fillStyle=a.color||"#99ffff";e.fillRect(n,r,s,d);e.restore()}};for(let t=0;t<hists.length;t++){var h=hists[t];var ctx=document.getElementById("chart-hist-"+h.count);var myChart=new Chart(ctx,{type:"bar",data:{labels:h.index,datasets:[{label:fname,data:h.coverage,borderWidth:1,backgroundColor:PCOLORS[0],borderColor:"#FFFFFF"}]},options:{scales:{y:{title:{display:true,text:"#"+h.count+"s"},beginAtZero:true,grid:{color:"#FFFFFF"}},x:{title:{display:true,text:"taxa"},grid:{color:"#FFFFFF"},ticks:{maxRotation:90,minRotation:65}}},plugins:{customCanvasBackgroundColor:{color:"#E5E4EE"}}},plugins:[pluginCanvasBackgroundColor]});buildPlotDownload(myChart,h,fname);buildHistTableDownload(myChart,h,fname);buildLogToggle(myChart,h)}if(typeof groups!="undefined"){for(let t=0;t<groups.length;t++){var g=groups[t];var ctx=document.getElementById("chart-group-"+g.count);var myChart;if(g.is_hist){myChart=new Chart(ctx,{type:"bar",data:{labels:g.index,datasets:[{label:fname,data:g.length,borderWidth:1,backgroundColor:PCOLORS[0],borderColor:"#FFFFFF"}]},options:{scales:{y:{title:{display:true,text:"#groups"},beginAtZero:true,grid:{color:"#FFFFFF"}},x:{title:{display:true,text:"#"+g.count+"s"},grid:{color:"#FFFFFF"},ticks:{maxRotation:90,minRotation:65}}},plugins:{customCanvasBackgroundColor:{color:"#E5E4EE"}}},plugins:[pluginCanvasBackgroundColor]});buildPlotDownload(myChart,g,fname)}else{myChart=new Chart(ctx,{type:"bar",data:{labels:g.index,datasets:[{label:fname,data:g.length,borderWidth:1,backgroundColor:PCOLORS[0],borderColor:"#FFFFFF"}]},options:{scales:{y:{title:{display:true,text:"#"+g.count+"s"},beginAtZero:true,grid:{color:"#FFFFFF"}},x:{title:{display:true,text:"groups"},grid:{color:"#FFFFFF"},ticks:{maxRotation:90,minRotation:65}}},plugins:{customCanvasBackgroundColor:{color:"#E5E4EE"}}},plugins:[pluginCanvasBackgroundColor]});buildPlotDownload(myChart,g,fname)}buildLogToggle(myChart,g)}}if(typeof info!="undefined"&&info!=""){buildInfoTableDownload(info,"graph",fname);buildInfoTableDownload(info,"node",fname);buildInfoTableDownload(info,"path",fname);buildInfoTableDownload(info,"group",fname)}for(let t=0;t<growths.length;t++){var g=growths[t];var ctx=document.getElementById("chart-growth-"+g.count);var myChart=new Chart(ctx,{type:"bar",data:{labels:g.index,datasets:Array.from(g.getThresholds().entries()).reverse().map(function([t,[o,a]]){return{label:"coverage ≥ "+o+", quorum ≥ "+(a*100).toFixed(0)+"%",data:g.getGrowthFor(o,a),borderWidth:1,backgroundColor:PCOLORS[t%PCOLORS.length],borderColor:"#FFFFFF"}})},options:{scales:{y:{title:{display:true,text:"#"+g.count+"s"},beginAtZero:true,grid:{color:"#FFFFFF"},stacked:false},x:{title:{display:true,text:"taxa"},grid:{color:"#FFFFFF"},ticks:{maxRotation:90,minRotation:65},stacked:true}},plugins:{customCanvasBackgroundColor:{color:"#E5E4EE"}}},plugins:[pluginCanvasBackgroundColor]});buildPlotDownload(myChart,g,fname);buildGrowthTableDownload(myChart,g,fname)}var tabs=document.querySelectorAll('button[data-bs-toggle="tab"]');tabs.forEach(function(t){t.addEventListener("show.bs.tab",function(t){document.querySelector(t.target.dataset.bsTarget).classList.remove("d-none");document.querySelector(t.relatedTarget.dataset.bsTarget).classList.add("d-none")})});