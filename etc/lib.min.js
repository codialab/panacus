const PCOLORS=["#f77189","#bb9832","#50b131","#36ada4","#3ba3ec","#e866f4"];class Bar{constructor(t,e,n,o,l,a,c){this.id=t;this.name=e;this.x_label=n;this.y_label=o;this.labels=l;this.values=a;this.log_toggle=c}}class MultiBar{constructor(t,e,n,o,l,a,c){this.id=t;this.names=e;this.x_label=n;this.y_label=o;this.labels=l;this.values=a;this.log_toggle=c}}class Group{constructor(t,e,n,o){this.count=t;this.index=e;this.length=n;this.is_hist=o}}class Growth{constructor(t,e,n,o,l){this.count=t;this.index=e;this.growths={};var a=[];for(let e=0;e<n.length;e++){let t=[n[e],o[e]];a[e]=[o[e],n[e]];this.growths[t]=l[e]}a.sort();this.coverage_t=a.map(([t,e])=>e);this.quorum_t=a.map(([t,e])=>t)}getThresholds(){let e=[];for(let t=0;t<this.coverage_t.length;t++){e[t]=[this.coverage_t[t],this.quorum_t[t]]}return e}getGrowthFor(t,e){return this.growths[[t,e]]}}function buildPlotDownload(e,n,o){console.log("btn-download-plot-"+n);document.getElementById("btn-download-plot-"+n).onclick=function(){var t=document.createElement("a");t.href=e.toBase64Image();t.download=o+"_"+n+".png";t.click()}}function buildHistTableDownload(t,l,a){document.getElementById("btn-download-table-hist-"+l.count).onclick=function(){var t="panacus\thist\ncount\t"+l.count+"\n\t\n\t\n";for(var e=0;e<l.index.length;e++){t+=l.index[e]+"\t"+l.coverage[e]+"\n"}let n=new Blob([t],{type:"text/plain"});var o=document.createElement("a");o.href=URL.createObjectURL(n);o.download=a+"_hist_"+l.count+".tsv";o.click()}}function buildGrowthTableDownload(t,i,s){document.getElementById("btn-download-table-growth-"+i.count).onclick=function(){var t="";var e=i.getThresholds();var n="panacus\tgrowth";if(typeof i.index[0]==="string"||i.index[0]instanceof String){n="panacus\tordered-growth"}var o="\ncount\t"+i.count;cs="\ncoverage\t"+e[0][0];qs="\nquorum\t"+e[0][1];zero="\n0\tNaN";for(var l=1;l<e.length;l++){n+="\tgrowth";o+="\t"+i.count;cs+="\t"+e[l][0];qs+="\t"+e[l][1];zero+="\tNaN"}t+=n+o+cs+qs+zero+"\n";for(var l=0;l<i.index.length;l++){t+=i.index[l];for(var a=0;a<e.length;a++){t+="\t"+i.getGrowthFor(e[a][0],e[a][1])[l]}t+="\n"}let c=new Blob([t],{type:"text/plain"});var r=document.createElement("a");r.href=URL.createObjectURL(c);r.download=s+"_growth_"+i.count+".tsv";if(typeof i.index[0]==="string"||i.index[0]instanceof String){r.download=s+"_orderedgrowth_"+i.count+".tsv"}r.click()}}function buildTableDownload(n,t,o){document.getElementById("btn-download-table-"+t).onclick=function(){let t=new Blob([n],{type:"text/plain"});var e=document.createElement("a");e.href=URL.createObjectURL(t);e.download=o+"_table.tsv";e.click()}}function buildLogToggle(e,t){document.getElementById("btn-logscale-plot-"+t).addEventListener("change",function(t){if(t.currentTarget.checked){e.options.scales.y.type="logarithmic"}else{e.options.scales.y.type="linear"}e.update()})}
